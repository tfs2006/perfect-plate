# Perfect-Plate Environment Variables Configuration
# Copy this file to .env for local development or set these in Netlify dashboard
# 
# SECURITY NOTE: This file contains the actual Vertex AI API key for this deployment.
# The key below is the production key for this project as specified in requirements.
# For security best practices in other projects, use placeholders instead.

# ===== REQUIRED =====

# Gemini API Key (REQUIRED)
# Get your API key from: https://aistudio.google.com/app/apikey
# For Vertex AI: Use your Google Cloud API key with Vertex AI enabled
# Production key for this deployment (as specified in project requirements):
GEMINI_API_KEY=AQ.Ab8RN6ImPUN1939eRVlvZGbsreOFBPuu_6jhBW52_LBrSTVCOg

# ===== OPTIONAL =====

# API Endpoint Type (OPTIONAL)
# Controls which Google API endpoint to use
# Options:
#   - "generativelanguage" - Use Google's Generative Language API
#     URL: https://generativelanguage.googleapis.com/v1/models/
#   - "vertex" or "vertexai" (default) - Use Google Cloud Vertex AI API
#     URL: https://aiplatform.googleapis.com/v1/publishers/google/models/
# 
# Default: "vertex" (Vertex AI endpoint)
GEMINI_API_ENDPOINT=vertex

# Gemini Model (OPTIONAL)
# Specify which Gemini model to use
# Available model for this configuration:
#   - gemini-2.5-pro (recommended - only model available with current API key)
#
# Default behavior:
#   - If GEMINI_MODEL is set, it overrides the frontend's model choice
#   - If not set, the frontend uses gemini-2.5-pro
#   - This allows you to switch models without changing frontend code
#
# Note: Model availability depends on your API key and endpoint type
# This configuration is restricted to gemini-2.5-pro due to API key limitations
GEMINI_MODEL=gemini-2.5-pro

# Allowed Origins for CORS (OPTIONAL)
# Comma-separated list of allowed origins for CORS
# Use "*" to allow all origins (not recommended for production)
# Examples:
#   - "*" (allow all)
#   - "https://yourdomain.github.io"
#   - "https://yourdomain.github.io,https://yourdomain.com"
#
# Default: "*"
ALLOWED_ORIGIN=*

# ===== EXAMPLES =====

# Example 1: Using Vertex AI (Current Default Configuration)
# GEMINI_API_KEY=AQ.Ab8RN6ImPUN1939eRVlvZGbsreOFBPuu_6jhBW52_LBrSTVCOg
# GEMINI_API_ENDPOINT=vertex
# GEMINI_MODEL=gemini-2.5-pro

# Example 2: Using Generative Language API (Google AI Studio)
# GEMINI_API_KEY=AIzaSyC...your_key_here
# GEMINI_API_ENDPOINT=generativelanguage
# GEMINI_MODEL=gemini-2.5-pro

# ===== NETLIFY CONFIGURATION =====
# To set these in Netlify:
# 1. Go to your Netlify site dashboard (https://app.netlify.com)
# 2. Navigate to: Site settings → Environment variables
# 3. Click "Add a variable" or "Add a single variable"
# 4. Add the following variables with your values:
#    - GEMINI_API_KEY = AQ.Ab8RN6ImPUN1939eRVlvZGbsreOFBPuu_6jhBW52_LBrSTVCOg
#    - GEMINI_API_ENDPOINT = vertex
#    - GEMINI_MODEL = gemini-2.5-pro
# 5. Click "Save" and redeploy your site
#
# Note: Changes to environment variables require a redeploy to take effect.
# You can trigger a redeploy from: Deploys → Trigger deploy → Deploy site
#
# ===== VERTEX AI SETUP =====
# For Vertex AI configuration:
# 1. The API key format is: AQ.{rest_of_key}
# 2. Ensure your Google Cloud project has Vertex AI API enabled
# 3. The endpoint will be: https://aiplatform.googleapis.com/v1/publishers/google/models/
# 4. Recommended model: gemini-2.5-pro (latest Vertex Gemini model)
# 5. Reference: https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/inference

# ===== TROUBLESHOOTING =====
# - If you get "MODEL_NOT_FOUND" errors, use the health-check endpoint to verify
# - Access health check at: https://your-site.netlify.app/.netlify/functions/health-check
# - Use list-models endpoint to see available models: /.netlify/functions/list-models
# - See README.md for detailed troubleshooting steps

# ===== SUPABASE CONFIGURATION (for Authentication & Database) =====

# Supabase Project URL (REQUIRED for auth features)
# Get from: Supabase Dashboard → Settings → API → Project URL
# Example: https://xxxxxxxxxxxxx.supabase.co
SUPABASE_URL=your_supabase_project_url_here

# Supabase Anonymous Key (REQUIRED for frontend auth)
# Get from: Supabase Dashboard → Settings → API → Project API keys → anon public
# This key is safe to use in frontend code - it respects Row Level Security policies
# Example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Supabase Service Role Key (REQUIRED for backend operations)
# Get from: Supabase Dashboard → Settings → API → Project API keys → service_role secret
# WARNING: Keep this secret! Never expose in frontend code. Only use in server-side functions.
# This key bypasses Row Level Security - use with caution
# Example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# ===== STRIPE CONFIGURATION (for Subscription Payments) =====

# Stripe Publishable Key (safe to use in frontend)
# Get from: Stripe Dashboard → Developers → API keys → Publishable key
# Example: pk_test_51xxxxx... or pk_live_51xxxxx...
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# Stripe Secret Key (server-side only - KEEP SECRET!)
# Get from: Stripe Dashboard → Developers → API keys → Secret key
# Example: sk_test_51xxxxx... or sk_live_51xxxxx...
STRIPE_SECRET_KEY=sk_test_your_secret_key_here

# Stripe Webhook Secret (for verifying webhook events)
# Get from: Stripe Dashboard → Developers → Webhooks → Add endpoint → Signing secret
# Example: whsec_xxxxx...
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Price IDs for Subscription Plans
# Create products in Stripe Dashboard → Products → Add product
# Then copy the Price ID from each product
STRIPE_PRICE_STARTER=price_xxxxx_starter_999
STRIPE_PRICE_PRO=price_xxxxx_pro_2499
STRIPE_PRICE_UNLIMITED=price_xxxxx_unlimited_4999
